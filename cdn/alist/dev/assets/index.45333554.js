var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,r=(e,r)=>{for(var s in r||(r={}))a.call(r,s)&&o(e,s,r[s]);if(t)for(var s of t(r))n.call(r,s)&&o(e,s,r[s]);return e};import{_ as s}from"./index.c7566309.js";import{G as l,b as c,M as i,i as m,O as p,d as h,e as d,f as u,g,h as b}from"./index.8812dfa0.js";import{D as f}from"./index.esm.1655c437.js";import{y as E,j as z,Z as y,z as v,u as x,h as _,r as w,R as S,t as O,k as j,_ as C,A as k,$ as A,F as M,O as $,o as P,n as T,T as I,C as R,S as W,b as L,L as V,v as D,a0 as B}from"./vendor.af020e3c.js";import{u as H}from"./useTitle.121ccb58.js";function X(e){return l({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.002 3h-14c-1.103 0-2 .897-2 2v4h2V5h14v14h-14v-4h-2v4c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5c0-1.103-.898-2-2-2z"}},{tag:"path",attr:{d:"m11 16 5-4-5-4v3.001H3v2h8z"}}]})(e)}const F=c.create({baseURL:"/api/admin/",headers:{"Content-Type":"application/json;charset=utf-8"},withCredentials:!1});F.interceptors.request.use((e=>e),(e=>(console.log("Error: "+e.message),Promise.reject(e)))),F.interceptors.response.use((e=>e),(e=>(console.log(e),e.response&&null!=e.response.data.meta?e.response.data:Promise.reject(e)))),F.defaults.headers.common.Authorization=localStorage.getItem("admin-token")||"";const Y=e=>{let t="";e&&(t=i.hashStr(`https://github.com/Xhofe/alist-${e}`)),F.defaults.headers.common.Authorization=t,m.defaults.headers.common.Authorization=t,localStorage.setItem("admin-token",t)};var q=F;const G=w.exports.lazy((()=>s((()=>import("./login.dc42b5a7.js")),["assets/login.dc42b5a7.js","assets/vendor.af020e3c.js","assets/index.c7566309.js","assets/index.8812dfa0.js","assets/index.esm.1655c437.js","assets/useTitle.121ccb58.js"]))),N=w.exports.lazy((()=>s((()=>import("./settings.b8897bb6.js")),["assets/settings.b8897bb6.js","assets/vendor.af020e3c.js","assets/form-item.07c0be29.js","assets/index.8812dfa0.js","assets/index.c7566309.js","assets/index.esm.1655c437.js","assets/useTitle.121ccb58.js"]))),U=[{name:"Settings",to:"settings",icon:u,children:[{name:"Frontend",to:"settings/0",component:N},{name:"Backend",to:"settings/1",component:N}]},{name:"Accounts",to:"accounts",icon:g,component:w.exports.lazy((()=>s((()=>import("./accounts.2260e689.js")),["assets/accounts.2260e689.js","assets/vendor.af020e3c.js","assets/form-item.07c0be29.js","assets/index.8812dfa0.js","assets/index.c7566309.js","assets/index.esm.1655c437.js","assets/useTitle.121ccb58.js"])))},{name:"Meta",to:"meta",icon:function(e){return l({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M5.385 6.136c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-1.438 2.63c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zm5.465-2.63c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.499-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm-1.088 5.592c.794 0 1.438-.654 1.438-1.461s-.644-1.461-1.438-1.461-1.438.654-1.438 1.461.643 1.461 1.438 1.461zm5.464-5.592c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111S11.4 7.247 12 7.247s1.088-.498 1.088-1.111zm.35-4.675c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461S11.206 0 12 0s1.438.654 1.438 1.461zm-.35 0C13.088.848 12.6.35 12 .35s-1.088.498-1.088 1.111S11.4 2.572 12 2.572s1.088-.498 1.088-1.111zm.35 8.806c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.499 1.088-1.111zm4.376-4.131c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm2.939 1.461c.794 0 1.438-.654 1.438-1.461s-.644-1.461-1.438-1.461-1.438.654-1.438 1.461.644 1.461 1.438 1.461zm-4.027 1.209c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.643-1.461-1.438-1.461zm4.027 0c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zM3.947 12.857a1.45 1.45 0 0 0-1.438 1.461c0 .807.644 1.461 1.438 1.461s1.438-.654 1.438-1.461a1.45 1.45 0 0 0-1.438-1.461zm5.465 1.5c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.655 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zM12 12.896c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zm5.464 1.461c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.655 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm2.939-1.461c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zM3.947 16.948c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461zm5.465 1.5c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm4.376 0c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm.35 4.091c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111S11.4 23.65 12 23.65s1.088-.498 1.088-1.111zm4.376-4.091c0 .807-.644 1.461-1.438 1.461s-1.438-.654-1.438-1.461.644-1.461 1.438-1.461 1.438.654 1.438 1.461zm-.35 0c0-.613-.488-1.111-1.088-1.111s-1.088.498-1.088 1.111.488 1.111 1.088 1.111 1.088-.498 1.088-1.111zm2.939-1.461c-.794 0-1.438.654-1.438 1.461s.644 1.461 1.438 1.461 1.438-.654 1.438-1.461-.644-1.461-1.438-1.461z"}}]})(e)},component:w.exports.lazy((()=>s((()=>import("./metas.c06b2046.js")),["assets/metas.c06b2046.js","assets/vendor.af020e3c.js","assets/form-item.07c0be29.js","assets/index.8812dfa0.js","assets/index.c7566309.js","assets/index.esm.1655c437.js","assets/useTitle.121ccb58.js"])))}],Z=(e,t=[])=>(e.forEach((e=>{t.push(e),e.children&&Z(e.children,t)})),t);var J=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e={};for(const t of U)t.children&&(e[t.name]=E());const o=E(),{t:s}=z(),l=y(),c=v(),i=x(),m=_();H(s("Alist Manage")),w.exports.useEffect((()=>{q.get("login").then((e=>{const t=e.data;let a=l.url;a.endsWith("/")||(a+="/"),401===t.code?c.push(`${a}login`):l.url===i.pathname&&c.push(`${a}settings/0`)}))}),[i.pathname]);const u=e=>{const o=e,{icon:c,children:i}=o,m=((e,o)=>{var r={};for(var s in e)a.call(e,s)&&o.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&t)for(var s of t(e))o.indexOf(s)<0&&n.call(e,s)&&(r[s]=e[s]);return r})(o,["icon","children"]),p=e.to?V:O;return S.createElement(p,{to:`${l.url}/${e.to}`,onClick:()=>{e.to&&(document.title=`${i} - ${s("Alist Manage")}`)}},S.createElement(M,r({align:"center",px:"4",pl:"8",py:"3",cursor:"pointer",color:j("inherit","gray.400"),_hover:{bg:j("gray.100","gray.900"),color:j("gray.900","gray.200")},role:"group",fontWeight:"semibold",transition:".15s ease"},m),c&&S.createElement(T,{mr:"2",boxSize:"4",_groupHover:{color:j("gray.600","gray.300")},as:c}),i))},g=t=>S.createElement(O,r({as:"nav",pos:"fixed",top:"0",left:"0",zIndex:"sticky",h:"full",pb:"10",overflowX:"hidden",overflowY:"auto",bg:j("white","gray.800"),borderColor:j("inherit","gray.700"),borderRightWidth:"1px",w:"48",shadow:"md"},t),S.createElement(V,{to:"/@manage"},S.createElement(M,{px:"4",py:"5",align:"center"},S.createElement(D,{fontSize:"2xl",ml:"2",color:j("brand.500","white"),fontWeight:"semibold"},"Alist ",s("Manage")))),S.createElement(M,{direction:"column",as:"nav",fontSize:"sm",color:"gray.600","aria-label":"Main Navigation"},U.map((t=>t.children?S.createElement(O,{key:t.name},S.createElement(u,{icon:t.icon,onClick:e[t.name].onToggle},s(t.name),S.createElement(T,{as:b,ml:"auto",transform:e[t.name].isOpen?"rotate(90deg)":""})),S.createElement(B,{in:e[t.name].isOpen},t.children.map((e=>S.createElement(u,{pl:"12",py:"2",to:e.to,icon:e.icon,key:e.name},s(e.name)))))):S.createElement(u,{to:t.to,icon:t.icon,key:t.name},s(t.name))))));return S.createElement(O,{as:"section",bg:j("gray.50","gray.700"),minH:"100vh"},S.createElement(p,null),S.createElement(g,{display:{base:"none",md:"unset"}}),S.createElement(C,{isOpen:o.isOpen,onClose:o.onClose,placement:"left"},S.createElement(k,null),S.createElement(A,null,S.createElement(g,{w:"full",borderRight:"none"}))),S.createElement(O,{ml:{base:0,md:48},transition:".3s ease"},S.createElement(M,{as:"header",align:"center",justify:"space-between",w:"full",px:"4",bg:j("white","gray.800"),borderBottomWidth:"1px",borderColor:j("inherit","gray.700"),h:"14",shadow:"md"},S.createElement($,{"aria-label":"Menu",display:{base:"inline-flex",md:"none"},onClick:o.onOpen,icon:S.createElement(h,null),size:"sm"}),S.createElement(O,{w:"96",display:{base:"none",md:"flex"}}),S.createElement(M,{align:"center"},S.createElement(P,{href:"https://github.com/Xhofe/alist",isExternal:!0},S.createElement(T,{boxSize:6,color:"gray.500",as:f,cursor:"pointer"})),S.createElement(I,{shouldWrapChildren:!0,hasArrow:!0,placement:"bottom",label:s("clear buffer")},S.createElement($,{colorScheme:"whiteAlpha","aria-label":s("clear buffer"),icon:S.createElement(T,{boxSize:6,color:"gray.500",as:d}),onClick:()=>{q.get("clear_cache").then((e=>{const t=e.data;200===t.code?m({title:s(t.message),status:"success",duration:3e3,isClosable:!0}):m({title:s(t.message),status:"error",duration:3e3,isClosable:!0})}))}})),S.createElement(I,{shouldWrapChildren:!0,hasArrow:!0,placement:"bottom",label:s("logout")},S.createElement($,{onClick:()=>{Y(""),c.push(`${l.url}/login`)},colorScheme:"blank","aria-label":s("logout"),icon:S.createElement(T,{boxSize:6,color:"gray.500",as:X})})))),S.createElement(O,{as:"main",p:"2"},S.createElement(O,{borderWidth:"1px",borderStyle:"dashed",rounded:"md",h:"calc( 100vh - 80px)",overflowY:"auto",p:"2"},S.createElement(w.exports.Suspense,{fallback:S.createElement(R,{h:"full"},S.createElement(W,null))},Z(U).map((e=>e.component&&S.createElement(L,{path:`${l.url}/${e.to}`,key:e.name},S.createElement(e.component,null)))),S.createElement(L,{path:`${l.url}/login`},S.createElement(G,null)))))))}});export{q as a,Y as c,J as i};
