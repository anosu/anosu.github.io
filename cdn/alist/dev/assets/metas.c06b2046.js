var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;import{h as o,j as c,R as i,y as m,r as p,t as d,l as u,x as E,ap as h,aq as b,ar as f,as as C,at as g,au as j,M as w,A as y,D as O,E as v,G as S,J as k,V as x,N as P}from"./vendor.af020e3c.js";import{a as q}from"./index.45333554.js";import{F as D}from"./form-item.07c0be29.js";import"./index.c7566309.js";import"./index.8812dfa0.js";import"./index.esm.1655c437.js";import"./useTitle.121ccb58.js";const F={id:0,path:"",password:"",hide:""},z=()=>{const e=o(),{t:z}=c(),[A,G]=i.useState([]),[H,I]=i.useState(F),[J,L]=i.useState(!1),[M,N]=i.useState(!1),R=m(),T=()=>{N(!0),q.get("metas").then((t=>{N(!1);const a=t.data;200!==a.code?e({title:z(a.message),status:"error",duration:3e3,isClosable:!0}):G(a.data)}))};return p.exports.useEffect((()=>{T()}),[]),i.createElement(d,{w:"full"},i.createElement(u,null,i.createElement(E,{onClick:()=>{I(F),L(!1),R.onOpen()}},z("add")),i.createElement(E,{colorScheme:"orange",isLoading:M,onClick:()=>{T()}},z("refresh"))),i.createElement(d,{overflowX:"auto"},i.createElement(h,{w:"full"},i.createElement(b,null,i.createElement(f,null,i.createElement(C,null,z("path")),i.createElement(C,null,z("password")),i.createElement(C,null,z("hide")),i.createElement(C,null,z("operation")))),i.createElement(g,null,A.map((t=>i.createElement(f,{key:t.path},i.createElement(j,null,t.path),i.createElement(j,null,t.password),i.createElement(j,null,t.hide),i.createElement(j,{whiteSpace:"nowrap"},i.createElement(E,{onClick:()=>{I(t),L(!0),R.onOpen()}},z("edit")),i.createElement(E,{colorScheme:"red",ml:"1",onClick:()=>{q.delete("meta",{params:{id:t.id}}).then((t=>{const a=t.data;200!==a.code?e({title:z(a.message),status:"error",duration:3e3,isClosable:!0}):(e({title:z(a.message),status:"success",duration:3e3,isClosable:!0}),T())}))}},z("delete"))))))))),i.createElement(w,{isOpen:R.isOpen,onClose:R.onClose,size:"6xl"},i.createElement(y,null),i.createElement(O,null,i.createElement(v,null,z(J?"save":"add")),i.createElement(S,null),i.createElement(k,{pb:6},i.createElement(x,{spacing:"2"},[{name:"path",description:"Path"},{name:"password",description:"Password"},{name:"hide",description:"Hide Files(split by ,)"}].map((e=>i.createElement(D,{key:e.name,label:e.name,type:"string",description:e.description,value:H[e.name],required:"path"===e.name,onChange:o=>{var c,i;I((c=((e,t)=>{for(var a in t||(t={}))l.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))r.call(t,a)&&n(e,a,t[a]);return e})({},H),i={[e.name]:o},t(c,a(i))))}}))))),i.createElement(P,null,i.createElement(E,{mr:3,colorScheme:"gray",onClick:R.onClose},z("cancle")),i.createElement(E,{onClick:()=>{q.post("meta/"+(J?"save":"create"),H).then((t=>{const a=t.data;200!==a.code?(e({title:z(a.message),status:"error",duration:3e3,isClosable:!0}),J||(T(),R.onClose())):(e({title:z(a.message),status:"success",duration:3e3,isClosable:!0}),T(),R.onClose())}))}},z("save"))))))};export{z as default};
